webpackJsonp([8],{"0kc1":function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i=e("3SZ7"),a=e.n(i),o={data:function(){return{dialogVisible:!1,currentPage:0,pageSize:10,total:0,result:"",dialogObj:"",isLoading:!1,isEmpty:!1,showPage:!1}},methods:{toMakeProductDetail:function(t){this.$setCookie("item",a()(t)),this.$router.push({path:"/makeProductList/makeProductDetail"})},pageChange:function(t){this.currentPage=t;var s={currentPage:this.currentPage,pageSize:this.pageSize};this.getData(s)},viewInstruction:function(t){this.dialogVisible=!0,this.dialogObj=t},replaceStr:function(t){if(t)return t.replace(/\u3001/g,"<br/>")},getData:function(t){var s=this;this.$emit("controLoading",!0),this.$httpExt().post("/makeProduct/getMakableList",t).then(function(t){s.$emit("controLoading",!1),s.result=t.data,s.currentPage=t.currentPage,0==s.result.length?(s.isEmpty=!0,s.showPage=!1):(s.isEmpty=!1,s.showPage=!0),s.pageSize=t.pageSize,s.total=t.totalRecord},function(t){s.isEmpty=!0,s.showPage=!1,s.$emit("controLoading",!1),s.$emit("showError",t.errorMsg)})}},mounted:function(){this.pageChange(1)}},r={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("div",{staticClass:"c64 top-bot position-relative"},[t._v("\n        门店共有以下 "),e("strong",{staticClass:"cblack"},[t._v(t._s(t.total)+" 款")]),t._v("商品可以制作    请按需制作，避免浪费\n        "),e("st-button",{staticClass:"position-absolute product-header-btn-blue",attrs:{size:"xxl"}},[e("router-link",{staticClass:"cwhite nohover",attrs:{to:"/modifyPriceList"}},[t._v("查看已制作商品")])],1),t._v(" "),e("st-button",{staticClass:"position-absolute product-header-btn-blue",staticStyle:{right:"192px"},attrs:{type:"plain",size:"xxl",border:""}},[e("router-link",{staticClass:"c32 nohover",attrs:{to:"/materialList/pickList"}},[t._v("领取原材料")])],1)],1),t._v(" "),0!=t.result.length?e("ul",{staticClass:"product-list display-flex"},t._l(t.result,function(s){return e("li",{key:s.index},[e("img",{staticClass:"fl img-m",attrs:{src:s.productImageMiddle}}),t._v(" "),e("div",{staticClass:"fr product-info"},[e("h3",{staticClass:"f16 c32 name"},[t._v(t._s(s.productName))]),t._v(" "),e("p",{staticClass:"f12 c64 text"},[t._v("建议售价："),e("strong",{staticClass:"cred f16"},[t._v("￥"+t._s(s.suggestPrice.toFixed(2)))])]),t._v(" "),e("p",{staticClass:"f12 c64 text"},[t._v("已有库存："),e("span",{staticClass:"f14"},[t._v(t._s(s.stockNum))])])]),t._v(" "),e("div",{staticClass:"product-option"},[e("st-button",{attrs:{type:"text",size:"xs"},on:{click:function(e){t.viewInstruction(s)}}},[t._v("查看制作说明")]),t._v(" "),e("st-button",{attrs:{size:"xs"},on:{click:function(e){t.toMakeProductDetail(s)}}},[t._v("制作该商品")])],1)])})):t._e(),t._v(" "),t.isEmpty?e("div",{staticClass:"search-null text-center"},[t._m(0),t._v(" "),e("div",{staticClass:"text-center f14 c32"},[t._v("门店暂时没有可制作的商品")])]):t._e(),t._v(" "),e("st-dialog",{attrs:{title:"制作说明",width:"50%",visible:t.dialogVisible,center:""},on:{"update:visible":function(s){t.dialogVisible=s}}},[e("p",{staticClass:"c96 make-instruction-text"},[t._v("请仔细阅读制作说明，按照说明制作制成品")]),t._v(" "),""!=t.dialogObj?e("div",{staticClass:"product-list-pop-detail"},[e("p",{staticClass:"clearfix"},[e("span",{staticClass:"f16 c32 name text-ellipsis fl"},[t._v(t._s(t.dialogObj.productName))]),t._v(" "),e("span",{staticClass:"c64 fl"},[t._v("建议售价："),e("strong",{staticClass:"cred f16"},[t._v("￥"+t._s(t.dialogObj.suggestPrice.toFixed(2)))])])]),t._v(" "),e("div",{staticClass:"f14 c64 material-box clearfix"},[e("span",{staticClass:"fl"},[t._v("所需原材料：")]),t._v(" "),e("div",{staticClass:"fl"},[e("p",{staticClass:"f14 material-name",domProps:{innerHTML:t._s(t.replaceStr(t.dialogObj.materialProductName))}})])])]):t._e(),t._v(" "),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("st-button",{attrs:{size:"m"},on:{click:function(s){t.dialogVisible=!1}}},[t._v("确 定")])],1)]),t._v(" "),t.showPage?[e("st-pagenation",{attrs:{currentPage:t.currentPage,size:t.pageSize,total:t.total},on:{pagechange:t.pageChange}})]:t._e()],2)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"img"},[s("span",{staticClass:"icon"})])}]};var n=e("Aizv")(o,r,!1,function(t){e("WyZR")},null,null);s.default=n.exports},WyZR:function(t,s){}});